

<style>
.center {
    margin-left: auto;
    margin-right: auto;
    column-gap: 20px;
}

.center th {
    padding: 0 10px;
}

</style>

{% extends "base.html" %}

{% block content %}

    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/in/custom/in-all-disputed.js"></script>

    <div class="details" style="width:100%">
        <table class="center">
            <tr>
                <th>
                    <h3>Total Active</h3>
                    <h3>{{ context['dataset']['Total Active'][-1] }}</h3>
                </th>
                <th>
                    <h3>Total Recovered</h3>
                    <h3>{{ context['dataset']['Total Recovered'][-1] }}</h3>
                </th>
                <th>
                    <h3>Total Deceased</h3>
                    <h3>{{ context['dataset']['Total Deceased'][-1] }}</h3>
                </th>
            </tr>
            <tr>
                <th>
                    <h3>Confirmed Yesterday</h3>
                    <h3>{{ context['dataset']['Confirmed'][-1] }}</h3>
                </th>
                <th>
                    <h3>Recovered Yesterday</h3>
                    <h3>{{ context['dataset']['Recovered'][-1] }}</h3>
                </th>
                <th>
                    <h3>Deceased Yesterday</h3>
                    <h3>{{ context['dataset']['Deceased'][-1] }}</h3>
                </th>
            </tr>
        </table>
    </div>

    <div id="map"></div>

    <script>
        Highcharts.mapChart('map', {
            chart: {
                map: 'countries/in/custom/in-all-disputed',
                height: 100 + '%',
            },

            title: {
                text: 'Active cases by state'
            },

            responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    legend: {
                        align: 'center',
                        verticalAlign: 'bottom',
                        layout: 'horizontal'
                    },
                    yAxis: {
                        labels: {
                            align: 'left',
                            x: 0,
                            y: -5
                        },
                        title: {
                            text: null
                        }
                    },
                    subtitle: {
                        text: null
                    },
                    credits: {
                        enabled: false
                    }
                }
            }]
        },

            mapNavigation: {
                enabled: false,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },

            colorAxis: {
                min: 0
            },

            series: [{
                data: {{ context['data']|safe }},
                name: 'Active cases',
                states: {
                    hover: {
                        color: '#002b80'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '<a href="/{point.name}/">{point.name}</a>'
                }
            }]
        });

    </script>

{% endblock %}
