
{% extends "base.html" %}

{% block content %}

    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/in/custom/in-all-disputed.js"></script>


    <h1 class="p-3 mb-2 bg-secondary text-white text-center">Overview</h1>

    <br>
    <div class="card mx-md-3">
        <div class="card-header">Active Cases by State</div>
        <div class="card-body">
            <div id="map"></div>
        </div>
    </div>
    <br>

    <script>
        Highcharts.mapChart('map', {
            chart: {
                map: 'countries/in/custom/in-all-disputed',
                height: 100 + '%',
            },

            title: {
                text: 'Active cases by state'
            },

            responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    legend: {
                        align: 'center',
                        verticalAlign: 'bottom',
                        layout: 'horizontal'
                    },
                    yAxis: {
                        labels: {
                            align: 'left',
                            x: 0,
                            y: -5
                        },
                        title: {
                            text: null
                        }
                    },
                    subtitle: {
                        text: null
                    },
                    credits: {
                        enabled: false
                    }
                }
            }]
        },

            mapNavigation: {
                enabled: false,
                buttonOptions: {
                    verticalAlign: 'bottom'
                }
            },

            colorAxis: {
                min: 0
            },

            series: [{
                data: {{ context['data']|safe }},
                name: 'Active cases',
                states: {
                    hover: {
                        color: '#002b80'
                    }
                },
                dataLabels: {
                    enabled: true,
                    format: '<a href="/{point.name}/">{point.name}</a>'
                }
            }]
        });

    </script>

{% endblock %}
